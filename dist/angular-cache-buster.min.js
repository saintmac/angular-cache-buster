!function(){"use strict";angular.module("ngCacheBuster",[]).config(["$httpProvider",function(t){return t.interceptors.push("httpRequestInterceptorCacheBuster")}]).provider("httpRequestInterceptorCacheBuster",function(){this.matchlist=[/.*partials.*/,/.*views.*/],this.logRequests=!1,this.black=!1,this.key=!1,this.setMatchlist=function(t,e){this.black="undefined"!=typeof e?e:!1,this.matchlist=t},this.setCustomKey=function(t){this.key=t},this.setLogRequests=function(t){this.logRequests=t},this.$get=["$q","$log",function(t,e){var s=this.matchlist,i=this.logRequests,r=this.black,u=this.key;return i&&e.log("Blacklist? ",r),{request:function(n){for(var h=!r,c=0;c<s.length;c++)if(n.url.match(s[c])){h=r;break}if(h){if(!u){var l=new Date;u=l.getTime()}n.url=n.url.replace(/[?|&]cacheBuster=\d+/,""),n.url+=-1===n.url.indexOf("?")?"?":"&",n.url+="cacheBuster="+u}if(i){var a="request.url ="+n.url;h?e.warn(a):e.info(a)}return n||t.when(n)}}}]})}();